<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>CalcuGraph</title>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <!-- bundle -->
    <script src='./js/bundle.js' charset="utf-8"></script>

    <!-- css -->
    <link rel="stylesheet" href="node_modules/mathquill/build/mathquill.css"/>
    <link rel="stylesheet" href="./css/calculator.css"/>


  </head>
  <body class='calculator'>
    <div class='mathinputs'>
      <p>Type math here: <span id="math-field"></span></p>
      <p hidden>LaTeX of what you typed: <span id="latex"></span></p>
      <p hidden>Text of what you typed: <span id="textSpan"></span></p>
    </div>

    <script>
      var mathFieldSpan = document.getElementById('math-field');
      var latexSpan = document.getElementById('latex');
      var textSpan = document.getElementById('textSpan');

      var MQ = MathQuill.getInterface(2);
      var mathField = MQ.MathField(mathFieldSpan, {
        spaceBehavesLikeTab: true,
        autoCommands: 'pi theta sqrt sum',
        handlers: {
          edit: function() {
            latexSpan.textContent = mathField.latex();
            textSpan.textContent = replaceText(mathField.text());
          }
        }
      });

      let replaceText = function(txt) {
       txt = txt.replace("\\l*o*g *", "log10");
       txt = txt.replace("\\l*n *", "log");
       txt = txt.replace("\\s*i*n *", "sin");
       txt = txt.replace("\\c*o*s *", "cos");
       txt = txt.replace("\\t*a*n *", "tan");
       txt = txt.replace("\\s*i*n ^-1", "asin");
       txt = txt.replace("\\c*o*s ^-1", "acos");
       txt = txt.replace("\\t*a*n ^-1", "atan");
       txt = txt.replace("a*b*s*", "abs");
       txt = txt.replace("(*", "(");
       txt = txt.replace("*)", ")");
       return txt;
      }

    </script>

    <div class='graphoptions'>

      <h3>Graph Options</h3>
      <label for="numPoints"> Number of Points
        <input id='numPoints' type="text"> </input>
      </label>

      <label for="unitTicks"> Size Between Ticks
        <input id='unitTicks' type="text"> </input>
      </label>

    </div>

    <canvas id='canvas' width='500' height='500'></canvas>

    <button class='reset'>Reset Window</button>

    <label for="coordinate"> Mouse Coordinate
      <input id='coordinate' type="text" disabled></input>
    </label>

    <label for="tCoordinate"> Tracer Coordinate
      <input id='tCoordinate' type="text" disabled></input>
    </label>
    <label for="tracer">Tracer
      <input id='tracer' type="checkbox"></input>
    </label>
    <label for="derivative">Derivative
      <input id='derivative' type="checkbox"></input>
    </label>


    <label for="xMin"> X Min
      <input id='xMin' type="text"></input>
    </label>
    <label for="xMax"> X Max
      <input id='xMax' type="text"></input>
    </label>
    <label for="yMin"> Y Min
      <input id='yMin' type="text"></input>
    </label>
    <label for="yMax"> Y Max
      <input id='yMax' type="text"></input>
    </label>

    <label for="integral">Integral
      <input id='integral' type="checkbox"></input>
    </label>
    <label for="nRec"> Number of Rectangles
      <input id='nRec' type="text"></input>
    </label>
    <label for="lBound"> Lower Bound
      <input id='lBound' type="text"></input>
    </label>
    <label for="uBound"> Upper Bound
      <input id='uBound' type="text"></input>
    </label>

  </body>
</html>
